# 后台调度任务

调度任务提供基于给定时间点，给定时间间隔或者给定执行次数自动执行任务的调度任务框架。通过后台调度任务功能我们可以启动和终止作业调度，可以配置调度策略，查看调度的执行历史和执行日志，进行统一的后台管理。

## 调度任务规则管理

调度任务规则是业务开发定义的需要定时触发的业务逻辑，在调度任务规则管理里，可以维护调度任务规则信息，可以新增和删除调度任务规则分类信息，可以新增，修改，删除调度任务规则信息。

点击管理中心主界面上的【调度任务规则管理】，进入调度任务规则管理界面，如下图所示：

![](/articles/appspecial/5-/images/image98.png)


 
左侧区域为规则分组，右侧区域为规则详细信息和操作部分。

**新建规则**

选择分组，点击〖新建规则〗，新建一个调度任务规则。

![](/articles/appspecial/5-/images/image99.png)
 
调度规则url和任务参数是开发人员预置的，实施人员可以根据实际使用情况修改。

## 调度任务管理

点击管理中心主界面上的【调度任务管理】，进入调度任务管理界面，如下图所示：

![](/articles/appspecial/5-/images/image100.png)


 
左侧区域为任务分组，每个分组后的数字表示它包含的任务个数。右侧为任务信息，包括任务成功次数、失败次数、任务状态，可以启用或停用，右边三个蓝色按钮分别表示查看任务详情、日志和删除。

调度任务维护时，对于调度任务的消息接收者设置时，目前仅支持用户，定时设置支持按日、周、月设置周期性发生或者一次性发生。

任务栏上方的日志是所有任务的日志，每条任务右侧的日志按钮显示该条任务的日志。

点击〖多选〗可以选择对多个任务进行操作：

**新建分组**

点击〖新建分组〗，输入分组名称，即可新建一个分组，点击右侧![](/articles/appspecial/5-/images/image101.png)图标可以将其删除。

**新建任务**

选择一个分组，点击〖新建任务〗，打开新建任务界面，如下图所示：

![](/articles/appspecial/5-/images/image102.png)

 
任务编码、任务名称、调用规则和定时规则为必填项。

调用规则就是按照规则执行任务，例如预警或定时执行等，根据不同业务场景选择调用规则后，取相应的参数值。

点击“消息接收”右侧的〖设置〗，可以对消息接收人进行设置：

![](/articles/appspecial/5-/images/image103.png)
 
选择一个或多个接收人。邮件和手机短信在消息通道进行配置，具体可见“消息通道配置”部分内容。消息中心是在消息中心进行接收，具体可见“消息中心”部分内容。

点击“定时规则”右侧的〖设置〗，可以设置定时规则，一次发生还是周期发生，如下图所示：

![](/articles/appspecial/5-/images/image104.png)

	 
开始时间和结束时间规定了定时规则的时间范围。

如果选择“周期发生”，举例来说，

A．	开始时间是2017-12-29 16:22，开始于8:00，每5分钟执行一次，则当天第一次执行是16:25；结束时间是2017-12-29 17:00，终止于16:55，则当天最后一次执行是16:55。

B．	开始时间是2017-12-29 16:22，开始于16:30，每5分钟执行一次，则当天第一次执行是16:30；结束时间是2017-12-29 16:50，终止于16:55，则当天最后一次执行是16:50。
